"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const FogInstanceBasic_1 = require("../../fog/instance/FogInstanceBasic");
const ChapterConst_1 = require("../../sys/consts/ChapterConst");
const WindowManager_1 = require("../../../framework/manager/WindowManager");
const WindowCfgs_1 = require("../../sys/consts/WindowCfgs");
const ChapterFunc_1 = require("../../sys/func/ChapterFunc");
const TranslateFunc_1 = require("../../../framework/func/TranslateFunc");
const ShareTvOrderFunc_1 = require("../../sys/func/ShareTvOrderFunc");
/**章节宝箱 */
class ChapInstanceBox extends FogInstanceBasic_1.default {
    constructor(fogControler) {
        super(fogControler);
        this.timeCode = 0;
    }
    setData(data) {
        this.boxIndex = data.index;
        this.boxId = data.boxId;
        this.reward = ChapterFunc_1.default.instance.getCfgDatasByKey("ChapterBox", this.boxId, "reward");
        this.passLevel = this.fogControler.chapterId + "-" + data.startIndex;
        this.type = ChapterConst_1.default.Chapter_boxState_lock;
        this.levelId = data.levelId;
        this.freshInfo();
    }
    /**设置方向 */
    setItemViewWay(value) {
    }
    onClickItem() {
        var desc = TranslateFunc_1.default.instance.getTranslate("#tid_chapter_boxReceiveTip", null, this.passLevel);
        WindowManager_1.default.OpenUI(WindowCfgs_1.WindowCfgs.ChapterBoxRewardUI, {
            shareName: ShareTvOrderFunc_1.default.SHARELINE_CHAPTERBOX_REWARD,
            doubleRate: ChapterFunc_1.default.ChapterBoxDouble,
            type: this.type,
            desc: desc,
            reward: this.reward,
            thisObj: this,
            callBack: this.receiveReward,
            params: { chapterId: this.fogControler.chapterId, boxId: this.boxId }
        });
    }
    //记录宝箱的领取状态
    receiveReward() {
    }
    /**刷新宝箱状态 */
    freshInfo() {
    }
    //销毁函数.
    dispose() {
    }
    //从舞台移除
    onSetToCache() {
        this.removeSelf();
    }
}
exports.default = ChapInstanceBox;
