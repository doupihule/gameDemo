"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const TimerManager_1 = require("../../../../framework/manager/TimerManager");
const Message_1 = require("../../../../framework/common/Message");
const MsgCMD_1 = require("../../common/MsgCMD");
const JumpEvent_1 = require("../../../../framework/event/JumpEvent");
const UIBaseView_1 = require("../../../../framework/components/UIBaseView");
class ResultJumpUI extends UIBaseView_1.default {
    constructor(data, extraData, param) {
        super();
        this.imgWidth = 124;
        this.spaceX = 6;
        /**是否被按住 */
        this.isTouch = false;
        /**定时移动 */
        /**方向，是否向右移动 */
        this.isRight = true;
        this._itemMoveCode = 0;
        ResultJumpUI.instance = this;
        this.extraData = extraData;
        // this.initData(data);
        this.data = data;
        Message_1.default.instance.add(MsgCMD_1.default.RETURN_GAMEMAIN, this);
    }
    onAddToStage() {
        this.startItemMoveLoop();
    }
    onRemoveStage() {
        this.clearMoveLoop();
    }
    initData(data) {
    }
    /**添加移动定时器 */
    startItemMoveLoop() {
        this.clearMoveLoop();
        this._itemMoveCode = TimerManager_1.default.instance.add(this.itemMove, this, 10);
        // egret.timer.loop(10, this, this.itemMove);
    }
    setFrom(from) {
        this.extraData.from = from;
    }
    /**按下item */
    touchDownItem() {
        this.isTouch = true;
        if (this.touchEndCode) {
            TimerManager_1.default.instance.remove(this.touchEndCode);
        }
    }
    /**移除定时器 */
    clearMoveLoop() {
        TimerManager_1.default.instance.remove(this._itemMoveCode);
    }
    /**icon左右移动 */
    itemMove() {
    }
    /**手指从这里抬起 */
    touchOut() {
        this.touchEndCode = TimerManager_1.default.instance.setTimeout(() => {
            this.isTouch = false;
        }, this, 2000);
    }
    recvMsg(cmd, data) {
        switch (cmd) {
            case JumpEvent_1.default.JUMP_RETURN_GAMEMAIN:
                this.clearMoveLoop();
                break;
        }
    }
}
exports.default = ResultJumpUI;
ResultJumpUI.res = [
    "gameui/ResultJump.scene",
];
ResultJumpUI.instance = null;
